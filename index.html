<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Smart Life App</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
font-family: Arial;
margin:0;
background: linear-gradient(135deg,#4facfe,#00f2fe);
color:#333;
}

.container{
max-width:400px;
margin:auto;
background:white;
min-height:100vh;
padding:20px;
border-radius:20px;
box-shadow:0 10px 25px rgba(0,0,0,0.2);
}

h1{
text-align:center;
}

input, select, button{
width:100%;
padding:10px;
margin:8px 0;
border-radius:10px;
border:1px solid #ccc;
}

button{
background:#4facfe;
color:white;
border:none;
font-size:16px;
cursor:pointer;
}

button:hover{
background:#3b8eea;
}

.menu button{
margin:10px 0;
font-size:18px;
}

.back{
background:#888;
}

ul{
text-align:left;
}
</style>

</head>

<body>

<!-- LOGIN -->
<div id="loginPage" class="container">
<h1>üîê Login</h1>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button onclick="register()">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
<button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
</div>

<!-- MENU -->
<div id="menuPage" class="container" style="display:none;">
<h1>üì± Smart Life</h1>
<div class="menu">
<button onclick="openPage('moneyPage')">üí∞ ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</button>
<button onclick="openPage('calPage')">üî• ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà</button>
<button onclick="openPage('activityPage')">‚è∞ ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</button>
</div>
<button class="back" onclick="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
</div>

<!-- MONEY PAGE -->
<div id="moneyPage" class="container" style="display:none;">
<h1>üí∞ ‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</h1>

<select id="type">
<option value="income">‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö</option>
<option value="expense">‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</option>
</select>

<input type="number" id="amount" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô">
<button onclick="addItem()">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>

<h3>‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö: <span id="incomeTotal">0</span></h3>
<h3>‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢: <span id="expenseTotal">0</span></h3>
<h3>‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span id="balance">0</span></h3>

<button class="back" onclick="backMenu()">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
</div>

<!-- CALORIE PAGE -->
<div id="calPage" class="container" style="display:none;">
<h1>üî• ‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà</h1>

<input type="number" id="foodCal" placeholder="‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏Å‡∏¥‡∏ô">
<button onclick="addFood()">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
<h3>‡∏£‡∏ß‡∏°: <span id="totalFoodCal">0</span> kcal</h3>

<input type="number" id="walkMinutes" placeholder="‡πÄ‡∏î‡∏¥‡∏ô‡∏Å‡∏µ‡πà‡∏ô‡∏≤‡∏ó‡∏µ">
<button onclick="calculateWalk()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
<h3>‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç: <span id="burnCal">0</span></h3>

<button class="back" onclick="backMenu()">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
</div>

<!-- ACTIVITY PAGE -->
<div id="activityPage" class="container" style="display:none;">
<h1>‚è∞ ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h1>

<input type="text" id="activityName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°">
<input type="time" id="activityTime">
<button onclick="addActivity()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</button>

<ul id="activityList"></ul>

<button class="back" onclick="backMenu()">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
</div>

<script>
let currentUser=null;
let income=0;
let expense=0;
let totalFoodCal=0;
let activities=[];

function register(){
let u=username.value;
let p=password.value;
if(!u||!p) return alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•");
localStorage.setItem("user_"+u,p);
alert("‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
}

function login(){
let u=username.value;
let p=password.value;
let saved=localStorage.getItem("user_"+u);
if(saved===p){
currentUser=u;
startApp();
}else alert("‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏¥‡∏î");
}

function startApp(){
loginPage.style.display="none";
menuPage.style.display="block";

income=Number(localStorage.getItem(currentUser+"_income"))||0;
expense=Number(localStorage.getItem(currentUser+"_expense"))||0;
totalFoodCal=Number(localStorage.getItem(currentUser+"_foodCal"))||0;
activities=JSON.parse(localStorage.getItem(currentUser+"_activities"))||[];

updateUI();
renderActivities();

Notification.requestPermission();
}

function openPage(page){
menuPage.style.display="none";
document.getElementById(page).style.display="block";
}

function backMenu(){
moneyPage.style.display="none";
calPage.style.display="none";
activityPage.style.display="none";
menuPage.style.display="block";
}

function logout(){
location.reload();
}

function updateUI(){
incomeTotal.innerText=income;
expenseTotal.innerText=expense;
balance.innerText=income-expense;
totalFoodCal.innerText=totalFoodCal;
}

function addItem(){
let type=document.getElementById("type").value;
let amount=parseFloat(document.getElementById("amount").value);
if(isNaN(amount)) return alert("‡πÉ‡∏™‡πà‡πÄ‡∏á‡∏¥‡∏ô");

if(type==="income") income+=amount;
else expense+=amount;

localStorage.setItem(currentUser+"_income",income);
localStorage.setItem(currentUser+"_expense",expense);
updateUI();
}

function addFood(){
let cal=parseFloat(foodCal.value);
if(isNaN(cal)) return alert("‡πÉ‡∏™‡πà‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà");

totalFoodCal+=cal;
localStorage.setItem(currentUser+"_foodCal",totalFoodCal);
updateUI();
}

function calculateWalk(){
let m=walkMinutes.value;
burnCal.innerText=m*4;
}

function addActivity(){
let name=activityName.value;
let time=activityTime.value;
activities.push({name,time});
localStorage.setItem(currentUser+"_activities",JSON.stringify(activities));
renderActivities();
}

function renderActivities(){
activityList.innerHTML="";
activities.forEach(a=>{
let li=document.createElement("li");
li.innerText=a.name+" - "+a.time;
activityList.appendChild(li);
});
}

setInterval(()=>{
let now=new Date().toTimeString().slice(0,5);
activities.forEach(a=>{
if(a.time===now){
new Notification("‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°",{body:a.name});
}
});
},30000);
</script>

</body>
</html>